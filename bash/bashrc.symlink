#-------------------------------------------------------------------------------
# Path Variables
#-------------------------------------------------------------------------------

export TMP="$HOME/tmp"
export TMPDIR="$HOME/tmp"
mkdir -p "$TMP"

export GRABSSH_DIR="${TMPDIR:-/tmp}"
export DOTFILES_DIR="${DOTFILES_DIR:-$HOME/.dotfiles}"

# Quick exit for non-interactive sessions
if [ -z "$PS1" ]; then
    return
fi

#-------------------------------------------------------------------------------
# Aliases
#-------------------------------------------------------------------------------

alias ls='ls -F --color=auto'
alias ll='ls -l'
alias la='ls -A'
alias lss='ls -sh'
alias llt='ls -lt'
alias lltr='ls -ltr'
alias grepc='grep --color=auto'
alias egrepc='egrep --color=auto'
alias pst='ps -u $USER wwf'
alias clear='COUNT=$((LINES)); while [[ $COUNT -gt 0 ]]; do echo; COUNT=$((COUNT-1)); done; unset COUNT; clear'

# Note: The --group-directories-first option is newer and may need to be
#       disabled on systems running an older ls (or non-gnu systems)
alias dir='ls --format=vertical --group-directories-first'
alias vdir='ls --format=long --group-directories-first'

#-------------------------------------------------------------------------------
# Prompt
#-------------------------------------------------------------------------------

source $DOTFILES_DIR/bash/lib/prompt.bash

PROMPT_COMMAND='topbar_prompt'
BASH_USE_COLOR_PROMPT=1
BASH_DONT_CLOBBER_SCREEN=1

#-------------------------------------------------------------------------------
# Miscellaneous
#-------------------------------------------------------------------------------

export GPG_TTY=$(tty)

# LS_COLORS
# =========
if [ -x /usr/bin/dircolors ]; then
    eval $(dircolors --bourne-shell)
fi

#-------------------------------------------------------------------------------
# External Files
#-------------------------------------------------------------------------------

# Supplementary Files
# ===================
for BASHRC_FILE in $DOTFILES_DIR/*/shell.bash; do
    source "$BASHRC_FILE"
done

# Local Settings
# ==============
LOCAL_BASHRC="$HOME/.bashrc.local"
if [ -f "$LOCAL_BASHRC" ]; then
    source "$LOCAL_BASHRC"
fi

# vim:ft=sh:tw=100:
